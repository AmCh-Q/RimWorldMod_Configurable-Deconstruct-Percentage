<?xml version="1.0" encoding="utf-8"?>
<ModMetaData>
  <packageId>AmCh.DeconstructPercentage</packageId>
  <modVersion IgnoreIfNoMatchingField="True">2.2.0</modVersion>
  <name>Configurable Deconstruct Percentage</name>
  <author>AmCh</author>
  <url></url>
  <supportedVersions>
    <li>1.0</li>
    <li>1.1</li>
    <li>1.2</li>
    <li>1.3</li>
    <li>1.4</li>
    <li>1.5</li>
    <li>1.6</li>
  </supportedVersions>
  <description>In the vanilla game after 1.5, deconstructing/failing to construct/cancelling/destroying a building return 50%/50%/100%/25% of the used building materials, and cancelling an in-progress worktable item returns 75% of the materials, this mod makes them configurable (100%/80%/100%/50%/90% by default).

There are many mods out there that do similar things, but to my knowledge, none else can configure all of these.

You can also config to keep the last X of each resource (default X = 1), so you get to keep your Nano Structuring Chip when you deconstruct your Wastepack Atomizer.

No reload required upon setting change as it takes effect immediately.

There should be negligible impact on performance.

Not all buildings are affected equally, some buildings have their own special destruction effect and some (such as walls) explicitly blacklist materials from ever being returned; this mod respects those cases.

This is my take on Neceros' [99 Percent] Mod ( https://github.com/Neceros/99percent , https://steamcommunity.com/sharedfiles/filedetails/?id=1267149586 ) since they are no longer maintaing their mods.
I took their idea but not their codes as this is a C# rewrite that adds configurability.

Since there is no Harmony for RimWorld 1.0 and 1.1, in those two game versions only the deconstruction return setting is available.

This is my second C# mod, let me know if you notice any incompatibilities.</description>
  <modDependenciesByVersion>
    <v1.0></v1.0>
    <v1.1></v1.1>
    <v1.2>
      <li>
        <packageId>brrainz.harmony</packageId>
        <displayName>Harmony</displayName>
        <downloadUrl>https://github.com/pardeike/HarmonyRimWorld/releases/</downloadUrl>
        <steamWorkshopUrl>steam://url/CommunityFilePage/2009463077</steamWorkshopUrl>
      </li>
    </v1.2>
    <v1.3>
      <li>
        <packageId>brrainz.harmony</packageId>
        <displayName>Harmony</displayName>
        <downloadUrl>https://github.com/pardeike/HarmonyRimWorld/releases/</downloadUrl>
        <steamWorkshopUrl>steam://url/CommunityFilePage/2009463077</steamWorkshopUrl>
      </li>
    </v1.3>
    <v1.4>
      <li>
        <packageId>brrainz.harmony</packageId>
        <displayName>Harmony</displayName>
        <downloadUrl>https://github.com/pardeike/HarmonyRimWorld/releases/</downloadUrl>
        <steamWorkshopUrl>steam://url/CommunityFilePage/2009463077</steamWorkshopUrl>
      </li>
    </v1.4>
    <v1.5>
      <li>
        <packageId>brrainz.harmony</packageId>
        <displayName>Harmony</displayName>
        <downloadUrl>https://github.com/pardeike/HarmonyRimWorld/releases/</downloadUrl>
        <steamWorkshopUrl>steam://url/CommunityFilePage/2009463077</steamWorkshopUrl>
      </li>
    </v1.5>
    <v1.6>
      <li>
        <packageId>brrainz.harmony</packageId>
        <displayName>Harmony</displayName>
        <downloadUrl>https://github.com/pardeike/HarmonyRimWorld/releases/</downloadUrl>
        <steamWorkshopUrl>steam://url/CommunityFilePage/2009463077</steamWorkshopUrl>
      </li>
    </v1.6>
  </modDependenciesByVersion>
  <loadAfter>
    <li>brrainz.harmony</li>
    <li>Ludeon.RimWorld</li>
  </loadAfter>
</ModMetaData>
